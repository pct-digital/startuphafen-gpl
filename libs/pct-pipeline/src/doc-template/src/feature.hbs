---
layout: baselayout.hbs
eleventyComputed:
    title: "Funktionalität: {{feature.name}}"
relativeLocation: "../../"
pagination:
    data: features
    size: 1
    alias: feature
permalink: "feature/{{slugify feature.file}}/"
---

<div class="w-full flex flex-col">

    <div class="text-lg md:text-2xl font-bold mt-1 md:mt-8">{{feature.name}}</div>

    <div class="text-sm md:text-base">
        {{feature.description}}
    </div>

    <div class="w-full mt-1 md:mt-4">
        {{#each feature.rules}}

        <div class="w-full">
            
            {{#if this.rule}}
            <div class="text-lg md:text-xl font-bold underline mt-3 md:mt-6 md:mb-2">Regel: <span class="italic">{{this.rule}}</span></div>
            {{/if}}

            <div class="w-full">
                {{#each this.scenarios}}
    
                    <a href="#scenario-{{this.slugName}}">
                        <div class="flex items-center gap-2 mt-2 hover:underline">
                            <div class="text-gray-400 hidden md:block">
                                #
                            </div>
                            <div class="text-sm md:text-lg font-bold {{#unless this.isImplemented}} text-red-900 {{/unless}}" id="scenario-{{this.slugName}}">
                                {{this.name}}
                            </div>
                            
                        </div>
                    </a>

                    <div class="w-full">
                        <pre class="w-full md:p-2 overflow-x-auto"><code class="language-gherkin">{{this.steps}}</code></pre>
                            {{#if this.isImplemented}}

                            <div class="w-full pl-1 pr-1 md:p-4">

                            

                            {{#if this.hasExamples}}

                                <div class="flex bg-slate-100 border border-b-0 border-slate-400">

                                    {{#each this.examples}}

                                        <div class="text-white text-xs md:text-base p-1 md:p-4 cursor-pointer buttons-videos-{{../id}} bg-slate-300 hover:bg-slate-500" id="tab-button-{{this.id}}">
                                            Beispiel {{this.index}}
                                        </div>

                                    {{/each}}

                                </div>

                                <div>
                                    {{#each this.examples}}

                                        <div class="hidden border border-t-0 border-slate-400 pt-2 pb-2 pl-1 pr-1 md:pt-4 md:pb-4 md:pl-2 md:pr-2 tabs-videos-{{../id}}" id="tab-content-{{this.id}}">
                                            <div class="flex flex-wrap gap-5 text-xs md:text-base">
                                                {{#each this.values}}
                                                    <div>
                                                        <span class="font-semibold">{{this.key}}</span>: {{this.value}}
                                                    </div>
                                                {{/each}}
                                            </div>


                                            <div class="w-full mt-1 md:mt-2 flex justify-center">
                                                <video style="max-height: 700px" width="100%" height="auto" controls src="../../video/{{ @root.feature.file }}/{{ this.videoPath }}.mp4">
                                                </video>
                                            </div>

                                        </div>

                                    {{/each}}
                                </div>

                                <script>
                                    {{#each this.examples}}
                                        document.getElementById("tab-button-{{this.id}}").addEventListener("click", () => {
                                            const tabElements = document.getElementsByClassName("tabs-videos-{{../id}}");
                                            for (const tabElement of tabElements) {
                                                tabElement.style.display = "none";
                                            }

                                            const targetElement = document.getElementById("tab-content-{{this.id}}");
                                            targetElement.style.display = "block";

                                            const tabHeaders = document.getElementsByClassName("buttons-videos-{{../id}}");
                                            for (const tabHeader of tabHeaders) {
                                                tabHeader.style["background-color"] = "rgb(148,163,184)";
                                            }

                                            const tabHeader = document.getElementById("tab-button-{{this.id}}");
                                            tabHeader.style["background-color"] = "rgb(71,85,105)";
                                        });
                                    {{/each}}

                                    document.getElementById("tab-button-{{this.firstExample}}").click();
                                </script>

                            {{/if}}

                            {{#unless this.hasExamples}}


                                <div class="w-full flex justify-center">
                                    <video style="max-height: 700px" width="100%" height="auto" controls src="../../video/{{ @root.feature.file }}/{{ this.videoPath }}.mp4">
                                    </video>
                                </div>

                            {{/unless}}

                            </div>

                            {{/if}}

                            {{#unless this.isImplemented}}

                            <div class="w-full p-4 italic text-red-900">
                                Dieses Beispiel ist noch nicht umgesetzt, später wird es hier ein Video der Funktion geben.
                            </div>

                            {{/unless}}


                    </div>

                    



                {{/each}}
            </div>
        </div>

        {{/each}}
    </div>







</div>